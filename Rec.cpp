////reconaissance des chiffres

#include <stdio.h>
#include <stdlib.h>

int cmp_tab(int *x,int *y){
int i=0,j=0;
while(x[i]==y[i] && i<10 ){
//(int i=0;i<10;i++) { 
i++;
int m=0;
if(i==10)
 j=1;
 }
 return j;
 } 
 
int main()
{
	//erreur des entres	
	int tab[10][30]={{1,1,1,1,1,
	                  1,0,0,0,1
					 ,1,0,0,0,1
	                 ,1,0,0,0,1,
					  1,0,0,0,1
					 ,1,1,1,1,1}
   ,{0,0,1,0,0
	,0,0,1,0,0
	,0,0,1,0,0
	,0,0,1,0,0
	,0,0,1,0,0
	,0,0,1,0,0},  {1,1,1,1,1
                  ,0,0,0,0,1
	              ,1,1,1,1,1
				  ,1,0,0,0,0,
				   1,0,0,0,0,
				   1,1,1,1,1},{1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,1,1,1,1,1,1},{0,1,0,0,0,0,1,0,0,0,0,1,0,1,0,0,1,0,1,0,0,1,1,1,1,0,0,0,1,0},{1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1},{1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1},{1,1,1,1,0,0,0,0,1,0,0,0,0,1,0,0,0,1,1,1,0,0,0,1,0,0,0,0,1,0},{1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,1,0,0,0,1,1,1,1,1,1},{1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,1,1,1,1,1,1}};
	        //poids genere aleatoirement                         
	float w[10][30];
int l;
int khg;
	for(l=0;l<10;l++){
		for(khg=0;khg<30;khg++){
			w[l][khg]=(-0.5)+(rand()/(float) RAND_MAX)*(1);
			//printf("w[%d][%d]=%f",i,j,w[i][j]);
		}
	}
	int d[10][10]={{1,0,0,0,0,0,0,0,0,0},{0,1,0,0,0,0,0,0,0,0},	{0,0,1,0,0,0,0,0,0,0},{0,0,0,1,0,0,0,0,0,0},{0,0,0,0,1,0,0,0,0,0},{0,0,0,0,0,1,0,0,0,0},{0,0,0,0,0,0,1,0,0,0},{0,0,0,0,0,0,0,1,0,0},{0,0,0,0,0,0,0,0,1,0},{0,0,0,0,0,0,0,0,0,1}};
	int sortie[10][10];
	int s[10];
	int k;
	int t;
	int tab2[30];
	float m=0.1;
	double a;
	int r;
	int cp=3;
	int clin;
	do {
		clin=0;
	
	
		for(int k=0;k<10;k++){
	
		for(int i=0;i<10;i++){
			a=0;
		
			for(int j=0;j<30;j++){

				
				a=a+tab[k][j]*w[i][j];
				tab2[j] = tab[k][j];
			}
			if(a>0){
			
			s[i]=1;
			sortie[k][i]=1;}
			else {
				s[i]=0;
				sortie[k][i]=0;
					}
		
			 
			 
	//for i closer		
		}
		
	if(s[0]!=d[k][0] || s[1]!=d[k][1] || s[2]!=d[k][2] || s[3]!=d[k][3] || s[4]!=d[k][4] || s[5]!=d[k][5] || s[6]!=d[k][6] || s[7]!=d[k][7] || s[8]!=d[k][8] || s[9]!=d[k][9]){
			 	clin=1;
			 for(t=0;t<10;t++){
			
			 	for(r=0;r<30;r++){
			w[t][r]= w[t][r]+m*((d[k][t]-sortie[k][t])*tab2[r]);
			 
   		
			 	
			 }
			  }
			 }  
							
//for k closer	
	}
			

   		
   	   for(int k=0;k<10;k++){
			
		
			for(int i=0;i<10;i++){
			
   printf("%d" ,sortie[k][i]);
	}
		 printf("\n");
		 }


	
	
	} while(clin!=0);
	return 0;
}

